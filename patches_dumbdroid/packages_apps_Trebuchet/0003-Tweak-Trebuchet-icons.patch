From 7fe073fea8c6f534cfaa7f78ccd1165f6cc7b190 Mon Sep 17 00:00:00 2001
From: Michal Brzozowski <miki@extremic.com>
Date: Fri, 13 Jun 2025 17:58:56 +0200
Subject: [PATCH 03/13] Tweak Trebuchet icons

Change-Id: I4a46f77d37e78b90a13395dfce5eb4f589ea1a99
---
 res/xml/default_workspace_3x3.xml             | 44 ++++++++++++++++---
 .../launcher3/InvariantDeviceProfile.java     |  2 +-
 2 files changed, 38 insertions(+), 8 deletions(-)

diff --git a/res/xml/default_workspace_3x3.xml b/res/xml/default_workspace_3x3.xml
index 31376e1d5e..bd75f026f4 100644
--- a/res/xml/default_workspace_3x3.xml
+++ b/res/xml/default_workspace_3x3.xml
@@ -31,7 +31,13 @@
         <favorite launcher:uri="mmsto:" />
     </resolve>
 
-    <!-- All Apps -->
+    <resolve
+        launcher:container="-101"
+        launcher:screen="1"
+        launcher:x="1"
+        launcher:y="0" >
+        <favorite launcher:uri="#Intent;action=android.media.action.STILL_IMAGE_CAMERA;end" />
+    </resolve>
 
     <resolve
         launcher:container="-101"
@@ -43,29 +49,53 @@
         <favorite launcher:uri="#Intent;action=android.intent.action.CALL_BUTTON;end" />
     </resolve>
 
+
     <!-- Bottom row -->
+
     <resolve
         launcher:screen="0"
         launcher:x="0"
         launcher:y="-1" >
-        <favorite launcher:uri="#Intent;action=android.intent.action.MAIN;category=android.intent.category.APP_EMAIL;end" />
-        <favorite launcher:uri="mailto:" />
+        <favorite launcher:uri="#Intent;action=android.intent.action.MAIN;category=android.intent.category.APP_GALLERY;end" />
+        <favorite launcher:uri="#Intent;type=images/*;end" />
     </resolve>
 
     <resolve
         launcher:screen="0"
         launcher:x="1"
         launcher:y="-1" >
-        <favorite launcher:uri="#Intent;action=android.intent.action.MAIN;category=android.intent.category.APP_GALLERY;end" />
-        <favorite launcher:uri="#Intent;type=images/*;end" />
+        <favorite launcher:uri="#Intent;action=android.settings.SETTINGS;end" />
     </resolve>
 
     <resolve
         launcher:screen="0"
         launcher:x="2"
         launcher:y="-1" >
-        <favorite launcher:uri="#Intent;action=android.intent.action.MAIN;category=android.intent.category.APP_MARKET;end" />
-        <favorite launcher:uri="market://details?id=com.android.launcher" />
+        <favorite launcher:uri="#Intent;action=android.intent.action.MAIN;category=android.intent.category.APP_CONTACTS;end" />
+    </resolve>
+
+    <!-- Middle row -->
+
+    <resolve
+        launcher:screen="0"
+        launcher:x="0"
+	launcher:y="-2" >
+        <favorite launcher:uri="#Intent;action=android.intent.action.MAIN;category=android.intent.category.APP_MUSIC;end" />
+    </resolve>
+
+    <resolve
+        launcher:screen="0"
+        launcher:x="1"
+	launcher:y="-2" >
+        <favorite launcher:uri="#Intent;action=android.intent.action.SHOW_ALARMS;end" />
+    </resolve>
+
+
+    <resolve
+        launcher:screen="0"
+        launcher:x="2"
+        launcher:y="-3" >
+        <favorite launcher:uri="#Intent;action=android.intent.action.MAIN;category=android.intent.category.APP_BROWSER;end" />
     </resolve>
 
 </favorites>
diff --git a/src/com/android/launcher3/InvariantDeviceProfile.java b/src/com/android/launcher3/InvariantDeviceProfile.java
index 5278ebc1a7..d9b483e00a 100644
--- a/src/com/android/launcher3/InvariantDeviceProfile.java
+++ b/src/com/android/launcher3/InvariantDeviceProfile.java
@@ -721,7 +721,7 @@ public class InvariantDeviceProfile implements OnSharedPreferenceChangeListener
         DisplayOption closestPoint = points.get(0);
 	for (DisplayOption o : points)
 	    if (o.grid.numRows == 3 && o.grid.numColumns == 3)
-	        closestPoint = o;
+		return o;
         GridOption closestOption = closestPoint.grid;
         float weights = 0;
 
-- 
2.34.1

